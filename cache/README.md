<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# cache

```go
import "github.com/zyedidia/generic/cache"
```

Package cache provides an implementation of a key\-value store with a maximum size\. Once the maximum size is reached\, the cache uses a least\-recently\-used policy to evict old entries\. The cache is implemented as a combined hashmap and linked list\. This ensures all operations are constant\-time\.

<details><summary>Example</summary>
<p>

```go
package main

import (
	"fmt"
	"github.com/zyedidia/generic/cache"
)

func main() {
	c := cache.New[int, int](2)

	c.Put(42, 42)
	c.Put(10, 10)
	c.Get(42)
	c.Put(0, 0) // evicts 10

	c.Iter().For(func(kv cache.KV[int, int]) {
		fmt.Println(kv.Key)
	})
}
```

#### Output

```
0
42
```

</p>
</details>

## Index

- [type Cache](<#type-cache>)
  - [func New[K comparable, V any](capacity int) *Cache[K, V]](<#func-new>)
  - [func (t *Cache[K, V]) Capacity() int](<#func-badrecv-capacity>)
  - [func (t *Cache[K, V]) Get(k K) (V, bool)](<#func-badrecv-get>)
  - [func (t *Cache[K, V]) Iter() iter.Iter[KV[K, V]]](<#func-badrecv-iter>)
  - [func (t *Cache[K, V]) Put(k K, e V)](<#func-badrecv-put>)
  - [func (t *Cache[K, V]) Remove(k K)](<#func-badrecv-remove>)
  - [func (t *Cache[K, V]) Resize(size int)](<#func-badrecv-resize>)
  - [func (t *Cache[K, V]) Size() int](<#func-badrecv-size>)
- [type KV](<#type-kv>)


## type Cache

A Cache is an LRU cache for keys and values\. Each entry is put into the table with an associated key used for looking up the entry\. The cache has a maximum size\, and uses a least\-recently\-used eviction policy when there is not space for a new entry\.

```go
type Cache[K comparable, V any] struct {
    // contains filtered or unexported fields
}
```

### func New

```go
func New[K comparable, V any](capacity int) *Cache[K, V]
```

New returns a new Cache with the given capacity\.

### func \(\*BADRECV\) Capacity

```go
func (t *Cache[K, V]) Capacity() int
```

Capacity returns the maximum capacity of the cache\.

### func \(\*BADRECV\) Get

```go
func (t *Cache[K, V]) Get(k K) (V, bool)
```

Get returns the entry associated with a given key\, and a boolean indicating whether the key exists in the table\.

### func \(\*BADRECV\) Iter

```go
func (t *Cache[K, V]) Iter() iter.Iter[KV[K, V]]
```

Iter returns an iterator over all key\-value pairs in the cache\. It iterates in order of most recently used to least recently used\.

### func \(\*BADRECV\) Put

```go
func (t *Cache[K, V]) Put(k K, e V)
```

Put adds a new key\-entry pair to the table\.

### func \(\*BADRECV\) Remove

```go
func (t *Cache[K, V]) Remove(k K)
```

Remove causes the entry associated with the given key to be immediately evicted from the cache\.

### func \(\*BADRECV\) Resize

```go
func (t *Cache[K, V]) Resize(size int)
```

Resize changes the maximum capacity for this cache to 'size'\.

### func \(\*BADRECV\) Size

```go
func (t *Cache[K, V]) Size() int
```

Size returns the number of active elements in the cache\.

## type KV

```go
type KV[K comparable, V any] struct {
    Key K
    Val V
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
